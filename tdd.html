<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NOTES</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;800&display=swap" rel="stylesheet">
  <style>
    * {
      font-family: 'Nunito', sans-serif;
    }

    body {
      padding : 10px 20px;
    }
    [id^="spoilercheck"] {
      visibility: hidden;
    }

    [id^="spoilerlabel"] {
      color: white;
      background-color: orange;
      font-size: 1em;
      padding: 5px;
      cursor: pointer;
    }

    [id^="spoilerlabel"]:hover {
      background-color: orangered;
    }

    [id^="spoilerdiv"] {
      color: white;
      background-color: rgb(37, 32, 74);
      padding: 2.5px;
      height: 0;
      font-size: 0;
      margin: 10px 20px;
      padding-left: 10px;
      transition: 500ms;
      opacity: 0;
      border-radius: 15px;
    }

    [id^="spoilercheck"]:checked~[id^="spoilerdiv"] {
      height: auto;
      font-size: 1em;
      opacity: 1;
    }

    pre code {
      background-color: #eee;
      border: 1px solid #999;
      display: block;
      padding: 15px
    }
  </style>
</head>

<body>
  <h1>
    Lecture Test Driven Development
    (TDD) with JEST & SUPERTEST
  </h1>
  <pre>
    <code>
    + What is Testing?
    + What is TDD (Test Driven Development) ?
    + How to use JEST?
    + How to implementation TDD with JEST & SUPERTEST to REST API?
    </code>
  </pre>
  <div >
    <h2>Documentation</h2>
    Jest <a href="https://jestjs.io/"> https://jestjs.io/</a>
    <br>
    Jest & Supertest  <a href="https://www.albertgao.xyz/2017/05/24/how-to-test-expressjs-with-jest-and-supertest/">https://www.albertgao.xyz/2017/05/24/how-to-test-expressjs-with-jest-and-supertest/ </a>
  </div>
  <br><br>

  <hr>
  </hr>
    <br><br>
  <h1>Hightlight JEST</h1>
  <br>
  <link rel="stylesheet" href="style.css">
  <div>
    <input type="checkbox" id="spoilercheck1">
    <label for="spoilercheck1" id="spoilerlabel1">&raquo; test()</label>
    <div id="spoilerdiv1">
      <p style="color:tomato">test( <u>name</u>: string, <u>function callback</u>: process )</p>
      <p>Digunakan untuk mengeksekusi testing</p>
      <p style="color:cyan">Jika terdapat PROMISE maka membutuhkan <b style="color:yellow">done()</b></p>
    </div>
  </div>
  <div>
    <input type="checkbox" id="spoilercheck2">
    <label for="spoilercheck2" id="spoilerlabel2">&raquo; test.only()</label>
    <div id="spoilerdiv2">
      <p>untuk menjalankan 1 test / lebih, skip test lainnya yang tidak menggunakan only.</p>
    </div>
  </div>
  <div>
    <input type="checkbox" id="spoilercheck3">
    <label for="spoilercheck3" id="spoilerlabel3">&raquo; expect()</label>
    <div id="spoilerdiv7">
      <p style="color:tomato">expect( <u>value</u>: any )</p>
      <p>melakukan kecocokan "matcher" terhadap hasil </p>
    </div>
  </div>
  <div>
    <input type="checkbox" id="spoilercheck4">
    <label for="spoilercheck4" id="spoilerlabel4">&raquo; expect().toBe()</label>
    <div id="spoilerdiv4">
      <p style="color:tomato">expect( <u>received</u>: any ).toBe( <u>expected</u>: string, number, boolean )</p>
      <p>expected value => STRICT value `===` </p>
    </div>
  </div>
  <div>
    <input type="checkbox" id="spoilercheck5">
    <label for="spoilercheck5" id="spoilerlabel5">&raquo; expect().METHOD()</label>
    <div id="spoilerdiv5">
      <p>CHECK HERE https://jestjs.io/docs/expect </p>
    </div>
  </div>
  <div>
    <input type="checkbox" id="spoilercheck6">
    <label for="spoilercheck6" id="spoilerlabel6">&raquo; beforeAll() / afterAll()</label>
    <div id="spoilerdiv6">
      <p>Semacam hooks</p>
      <ul>
        <li>beforeAll()</li>
        <li>beforeEach()</li>
        <li>afterEach()</li>
        <li>aterfAll()</li>
      </ul>
      <p>TBA (To be add... ) </p>
    </div>
    <input type="checkbox" id="spoilercheck7">
    <label for="spoilercheck7" id="spoilerlabel7">&raquo; describe()</label>
    <div id="spoilerdiv7">
      <p>TBA (To be add... ) </p>
      <p>Lanjut bahas supertest dulu yaa ü¶ä</p>
    </div>
  </div>

<br><br>
  <hr>
  </hr>
<br><br>
  <h1>Highlight SUPERTEST</h1>
<<br>
  </hr>

  <p> high-level abstraction for testing HTTP
    <a href="https://www.npmjs.com/package/supertest">https://www.npmjs.com/package/supertest</a>
  </p>
  </br>

  <div>
    <input type="checkbox" id="spoilercheck8">
    <label for="spoilercheck8" id="spoilerlabel8" style="background-color:black">üë©‚Äçüíª</label>
    <div id="spoilerdiv8">
      </br>
      <pre>Yang akan di test REST API, yang kita buat dengan Express.</br>Beberapa hal yang perlu "ingat" dalam membuat REST API :
  - Memiliki Process yg Async
  - HTTP Method 
  - Request 
  - Response 
  - Status Code 
  - Failed Case~
  </br>Selama ini kita berkerja di enviorment "development"
  </pre>
      <pre>Nanti kita coba2 error yang shock terapi 
  - Enviorment test
  - detectOpenHandles
    "script": {
      "test" : "npx jest --forceExit --verbose --detectOpenHandles --runInBand"
    }
  - TCPWRAP
  </pre>
    </div>
  </div>



  <div>
    <input type="checkbox" id="spoilercheckZ">
    <label for="spoilercheckZ" id="spoilerlabelZ">&raquo; request(app) </label>
    <div id="spoilerdivZ">
      <p style="color:tomato">request( <u>app</u> ).get( <u>routes</u>: string )</p>
      <p>Untuk memanggil http method</p>
      <p>request(app).post(routes:string)</p>
      <p>request(app).put(routes:string)</p>
      <p>etc</p>
    </div>
  </div>

  <div>
    <input type="checkbox" id="spoilercheck0">
    <label for="spoilercheck0" id="spoilerlabel0">MUST TO KNOW :</label>
    <label>.set(?)</label>
    <label>.send(?)</label>
    <label>.query(?)</label>
    <div id="spoilerdiv0">
      Contoh dengan method POST / GET
      <ul>
        <li>request(app).post("/users")<b style="color:pink">.set( access_token, "abscdfew" )</b> => <b
            style="color:pink">REQ.HEADERS</b>
        </li>
        <li>request(app).post("/login")<b style="color:gold">.send({username: "ayu", password: "waw"})</b>
          => <b style="color:gold"> REQ.BODY</b></li>
        <li>request(app).get("/students")<b style="color:cyan">.query({name: "ayu"})</b>
          => <b style="color:cyan">REQ.QUERY, GET /students?name=ayu</b></li>
      </ul>
    </div>
  </div>

  <b>Check =></b>
  <a style="color:royalblue"
    href="https://github.com/withered-flowers/education-testing-apps#demo">education-testing-apps @withered-flowers</a>
  </br>
  <br>
<br><br>
  <hr>
  </hr>
<br><br>
  <h1>Reminder of TDD</h1>

  </hr>
  <div style="display: flex;">
    <img src="tdd.png" style="width:600px; object-fit: contain;">
    <div>
      <h2 style="color:green">Do:</h2>
      <pre color:green>
      register -> red, green, refactor
      kemudian
      login -> red, green, refactor 
    </pre>

      <h2 style="color:red">Don't:</h2>
      <pre>
      register -> red
      login -> red
      kemudian
      register -> red, green
      login -> red, green
      dst.
    </pre>

    </div>

  </div>

</body>

</html>
